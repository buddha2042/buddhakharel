/**
 * Simple implementation of XMLHTTPRequest.
 * It uses callback to prevent adding the promise polyfill.
 */
function HTTP(url, callback) {
  var request = new XMLHttpRequest();
  request.open('GET', url);

  request.onload = function onLoad() {
    if (request.readyState === 4 && request.status === 200) {
      callback(null, JSON.parse(request.response));
    }
  };

  request.onerror = function onError() {
    callback(request.statusText, null);
  };

  request.send();
}

export default HTTP;
